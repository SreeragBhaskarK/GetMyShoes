<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Cookie&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap"
    rel="stylesheet">
<link rel="stylesheet" href="/users/product_details/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="/users/product_details/css/elegant-icons.css" type="text/css">
<link rel="stylesheet" href="/users/product_details/css/jquery-ui.min.css" type="text/css">
<link rel="stylesheet" href="/users/product_details/css/magnific-popup.css" type="text/css">
<link rel="stylesheet" href="/users/product_details/css/owl.carousel.min.css" type="text/css">
<link rel="stylesheet" href="/users/product_details/css/slicknav.min.css" type="text/css">
<link rel="stylesheet" href="/users/product_details/css/style.css" type="text/css">
<!-- Shop Section Begin -->
<section class="shop spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-3 col-md-3">
                <div class="shop__sidebar">
                    <div class="sidebar__categories">
                        <div class="section-title">
                            <h4>Categories</h4>
                        </div>
                        <div class="categories__accordion">
                            <div class="accordion" id="accordionExample">
                                <!-- <div class="card">
                                    <div class="card-heading active">
                                        <a data-toggle="collapse" data-target="#collapseOne">Women</a>
                                    </div>
                                    <div id="collapseOne" class="collapse show" data-parent="#accordionExample">
                                        <div class="card-body">
                                            <ul>
                                                <li><a href="#">Coats</a></li>
                                                <li><a href="#">Jackets</a></li>
                                                <li><a href="#">Dresses</a></li>
                                                <li><a href="#">Shirts</a></li>
                                                <li><a href="#">T-shirts</a></li>
                                                <li><a href="#">Jeans</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div> -->
                                <div class="card">
                                    <div class="card-heading">
                                        <button onclick="test('all')">All</button>
                                        <!-- <a id="fetch-data-button" href="/men">Men</a> -->
                                    </div>

                                </div>
                                <div class="card">
                                    <div class="card-heading">
                                        <button onclick="test('men')">Men</button>
                                        <!-- <a id="fetch-data-button" href="/men">Men</a> -->
                                    </div>

                                </div>
                                <div class="card">
                                    <div class="card-heading">
                                        <button onclick="test('women')">Women</button>
                                    </div>

                                </div>
                                <div class="card">
                                    <div class="card-heading">
                                        <button onclick="test('sports')">Sports</button>
                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="sidebar__filter">
                        <div class="section-title">
                            <h4>Shop by price</h4>
                        </div>
                        <div class="filter-range-wrap">
                            <div class="price-range ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content"
                                data-min="33" data-max="99"></div>
                            <div class="range-slider">
                                <div class="price-input">
                                    <p>Price:</p>
                                    <input type="text" id="minamount">
                                    <input type="text" id="maxamount">
                                </div>
                            </div>
                        </div>
                        <a href="#">Filter</a>
                    </div>
                    <div class="sidebar__sizes">
                        <div class="section-title">
                            <h4>Shop by BRAND</h4>
                        </div>
                        <div class="size__list">
                            <label for="nike">
                                nike
                                <input type="checkbox" id="nike">
                                <span class="checkmark"></span>
                            </label>
                            <label for="adidas">
                                adidas
                                <input type="checkbox" id="adidas">
                                <span class="checkmark"></span>
                            </label>
                            <label for="puma">
                                puma
                                <input type="checkbox" id="puma">
                                <span class="checkmark"></span>
                            </label>
                            <label for="reebok">
                                reebok
                                <input type="checkbox" id="reebok">
                                <span class="checkmark"></span>
                            </label>
                            <label for="under armour">
                                under armour
                                <input type="checkbox" id="under armour">
                                <span class="checkmark"></span>
                            </label>
                            <label for="skechers">
                                skechers
                                <input type="checkbox" id="skechers">
                                <span class="checkmark"></span>
                            </label>
                            <label for="converse">
                                converse
                                <input type="checkbox" id="converse">
                                <span class="checkmark"></span>
                            </label>
                            <label for="vans">
                                vans
                                <input type="checkbox" id="vans">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                    </div>

                </div>
            </div>
            <div class="col-lg-9 col-md-9">
                <div class="row">
                    <% (locals.productData || [] ).forEach(product=> { %>
                        <div class="col-lg-4 col-md-6">


                            <li class="product-item">
                                <div class="product-card" tabindex="0">

                                    <figure class="card-banner">
                                        <a href="/product/<%=product._id%>"><img
                                                src="/images/products_image/<%=product.product_image[0]%>" width="312"
                                                height="350" loading="lazy" alt="Running Sneaker Shoes"
                                                class="image-contain"></a>

                                        <% if (product.product_badge) { %>

                                            <div class="card-badge">
                                                <%=product.product_badge%>
                                            </div>
                                            <% } %>
                                                <ul class="card-action-list">

                                                    <li class="card-action-item">
                                                        <button onclick="cartCount('<%=product._id%>')"
                                                            class="card-action-btn" aria-labelledby="card-label-1">
                                                            <ion-icon name="cart-outline"></ion-icon>
                                                        </button>

                                                        <div class="card-action-tooltip" id="card-label-1">Add to Cart
                                                        </div>
                                                    </li>

                                                    <li class="card-action-item">
                                                        <button class="card-action-btn" aria-labelledby="card-label-2">
                                                            <ion-icon name="heart-outline"></ion-icon>
                                                        </button>

                                                        <div class="card-action-tooltip" id="card-label-2">Add to
                                                            Whishlist
                                                        </div>
                                                    </li>

                                                    <li class="card-action-item">
                                                        <button class="card-action-btn" aria-labelledby="card-label-3">
                                                            <ion-icon name="eye-outline"></ion-icon>
                                                        </button>

                                                        <div class="card-action-tooltip" id="card-label-3">Quick View
                                                        </div>
                                                    </li>

                                                    <li class="card-action-item">
                                                        <button class="card-action-btn" aria-labelledby="card-label-4">
                                                            <ion-icon name="repeat-outline"></ion-icon>
                                                        </button>

                                                        <div class="card-action-tooltip" id="card-label-4">Compare</div>
                                                    </li>

                                                </ul>
                                    </figure>

                                    <div class="card-content">

                                        <div class="card-cat">
                                            <% (product.product_categoryName || []).forEach(i=> { %>


                                                <a href="/<%= i.category %>" class="card-cat-link">
                                                    <%= i.category %>

                                                </a>
                                                <% }) %>
                                                    <!--   <a href="#" class="card-cat-link">Men</a> /
                                        <a href="#" class="card-cat-link">Women</a> -->
                                        </div>

                                        <h3 class="h3 card-title">
                                            <!--  <a href="#">Running Sneaker Shoes</a> -->
                                            <a href="/product/<%=product._id%>">
                                                <%= product.product_name %>
                                            </a>
                                        </h3>

                                        <data class="card-price" value="14799">â‚¹<%=product.product_price %><del>
                                                    <%=product.product_old_price %>
                                                </del></data>

                                    </div>

                                </div>
                            </li>


                        </div>
                        <% }) %>

                            <div class="col-lg-12 text-center">
                                <div class="pagination__option">
                                    <a href="#">1</a>
                                    <a href="#">2</a>
                                    <a href="#">3</a>
                                    <a href="#"><i class="fa fa-angle-right"></i></a>
                                </div>
                            </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Shop Section End -->
<!-- Js Plugins -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<script src="/users/product_details/js/jquery-3.3.1.min.js"></script>
<script src="/users/product_details/js/bootstrap.min.js"></script>
<script src="/users/product_details/js/jquery.magnific-popup.min.js"></script>
<script src="/users/product_details/js/jquery-ui.min.js"></script>
<script src="/users/product_details/js/mixitup.min.js"></script>
<script src="/users/product_details/js/jquery.countdown.min.js"></script>
<script src="/users/product_details/js/jquery.slicknav.js"></script>
<script src="/users/product_details/js/owl.carousel.min.js"></script>
<script src="/users/product_details/js/jquery.nicescroll.min.js"></script>
<script src="/users/product_details/js/main.js"></script>
<script>
    function test(category) {
        $.ajax({
            type: "POST",
            url: "/shop_category",
            data: { category: category },
            success: function (response) {
                console.log(response);
                location.reload()
            },
            error: function (xhr, status, error) {
                console.error(error);
            }
        });
    }

    /* 
        function updateProductList() {
            // Clear the current list of products
            $('#product-list').empty();
    
            // Add the updated list of products to the page
              const productHTML = `
              <# (productData || [] ).forEach(product=> { %>
              `;
              $('#product-list').append(productHTML);
           
          }
     */


</script>

<script>
    function cartCount(id) {
        console.log(id);
        $.ajax({
            type: 'get',
            url: '/add-toCart/' + id,
            success: (cartCounts) => {
                if (cartCounts) {
                    document.getElementById('cartCount').innerHTML = cartCounts
                }
            }
        })
    }
</script>